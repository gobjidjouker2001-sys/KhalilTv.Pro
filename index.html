<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KhalilTV Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#e50914">
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('sw.js');
        });
      }
    </script>

</head>
<body class="dark-theme">

    <div id="splash-screen" class="splash">
        <div class="splash-box">
            <img src="logo.png" class="main-logo" onerror="this.src='https://cdn-icons-png.flaticon.com/512/716/716429.png'">
            <h1 class="app-name">KhalilTV <span>Pro</span></h1>
            <div class="loader-bar"><span></span></div>
        </div>
    </div>

    <main id="app-wrapper">
        <section class="app-page active" id="page-categories">
            <header class="page-header"><h2 data-i18n="explore">اكتشف القنوات</h2></header>
            <div class="category-list">
                <div class="cat-item" onclick="App.filter('أخبار')"><i class="fa-solid fa-newspaper"></i> <span data-i18n="news">أخبار</span></div>
                <div class="cat-item" onclick="App.filter('رياضة')"><i class="fa-solid fa-trophy"></i> <span data-i18n="sports">رياضة</span></div>
                <div class="cat-item" onclick="App.filter('افلام')"><i class="fa-solid fa-film"></i> <span data-i18n="movies">أفلام</span></div>
                <div class="cat-item" onclick="App.filter('جزائري')"><i class="fa-solid fa-flag"></i> <span data-i18n="dz">جزائري</span></div>
                <div class="cat-item" onclick="App.filter('مسلسلات')"><i class="fa-solid fa-tv"></i> <span data-i18n="series">مسلسلات</span></div>
                <div class="cat-item" onclick="App.filter('اطفال')"><i class="fa-solid fa-child"></i> <span data-i18n="kids">أطفال</span></div>
            </div>
            <div class="channels-grid" id="grid-main"></div>
        </section>

        <section class="app-page" id="page-movies">
            <header class="page-header"><h2 data-i18n="movie_lib">مكتبة الأفلام</h2></header>
            <div class="channels-grid" id="grid-movies"></div>
        </section>

        <section class="app-page" id="page-search">
            <div class="search-container">
                <input type="text" id="input-search" placeholder="ابحث..." oninput="App.search(this.value)">
                <i class="fa-solid fa-magnifying-glass search-icon"></i>
            </div>
            <div class="channels-grid" id="grid-search"></div>
        </section>

        <section class="app-page" id="page-favorites">
            <header class="page-header"><h2 data-i18n="fav_list">قنواتي المفضلة</h2></header>
            <div class="channels-grid" id="grid-favorites"></div>
        </section>

        <section class="app-page" id="page-settings">
            <div class="settings-container">
                <div class="settings-profile">
                    <img src="logo.png" class="settings-logo-small" onerror="this.src='https://cdn-icons-png.flaticon.com/512/716/716429.png'">
                    <h3>KhalilTV <span class="primary-color">Pro</span></h3>
                </div>

                <div class="settings-card">
                    <div class="card-header"><i class="fa-solid fa-circle-info"></i> <span data-i18n="app_info">حول التطبيق</span></div>
                    <div class="info-item"><span data-i18n="version">الإصدار</span><span>1.0.0</span></div>
                    <div class="info-item"><span data-i18n="developer">المطور</span><span>Lefreid Khalil</span></div>
                </div>

                <div class="settings-card">
                    <div class="card-header"><i class="fa-solid fa-sliders"></i> <span data-i18n="prefs">الإعدادات</span></div>
                    <div class="setting-row">
                        <div class="setting-label"><i class="fa-solid fa-moon"></i> <span data-i18n="dark_mode">الوضع الداكن</span></div>
                        <label class="switch">
                            <input type="checkbox" id="theme-toggle" checked onchange="App.toggleTheme()">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="setting-row">
                        <div class="setting-label"><i class="fa-solid fa-language"></i> <span data-i18n="language">اللغة</span></div>
                        <select id="lang-select" onchange="App.setLanguage(this.value)">
                            <option value="ar">العربية</option>
                            <option value="fr">Français</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <nav class="bottom-bar">
        <div class="nav-item active" onclick="App.navigate(event, 'page-categories')"><i class="fa-solid fa-list"></i><span data-i18n="cats">الفئات</span></div>
        <div class="nav-item" onclick="App.navigate(event, 'page-movies')"><i class="fa-solid fa-film"></i><span data-i18n="movies">أفلام</span></div>
        <div class="nav-item" onclick="App.navigate(event, 'page-search')"><div class="circle-btn"><i class="fa-solid fa-search"></i></div></div>
        <div class="nav-item" onclick="App.navigate(event, 'page-favorites')"><i class="fa-solid fa-heart"></i><span data-i18n="favs">المفضلة</span></div>
        <div class="nav-item" onclick="App.navigate(event, 'page-settings')"><i class="fa-solid fa-gear"></i><span data-i18n="settings">الإعدادات</span></div>
    </nav>
<div id="player-modal" class="modal">
    <div class="video-container" id="video-parent">
        <video id="video-element" playsinline></video>
        
        <div class="video-controls" id="v-controls">
            <div class="top-bar-player">
                <button class="player-btn" onclick="App.closePlayer()"><i class="fa-solid fa-chevron-right"></i></button>
                <span id="playing-now">إسم القناة</span>
                <span class="live-tag">LIVE</span>
            </div>

            <div class="center-controls">
                <button class="main-play-btn" onclick="App.togglePlay()"><i class="fa-solid fa-play" id="main-icon"></i></button>
            </div>

            <div class="bottom-bar-player">
                <div class="control-group">
                    <button class="player-btn" onclick="App.togglePlay()"><i class="fa-solid fa-play" id="btn-play"></i></button>
                    <button class="player-btn" onclick="App.toggleMute()"><i class="fa-solid fa-volume-high" id="btn-vol"></i></button>
                </div>
                <button class="player-btn" onclick="App.toggleFullscreen()"><i class="fa-solid fa-expand"></i></button>
            </div>
        </div>
        
        <div id="v-loader" class="v-loader"><i class="fa-solid fa-circle-notch fa-spin"></i></div>
    </div>
</div>

    

    <script src="script.js"></script>
</body>
</html>
